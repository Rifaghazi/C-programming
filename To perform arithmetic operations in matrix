#include <stdio.h>
#define SIZE 10

int main() {
    int a[SIZE][SIZE], b[SIZE][SIZE], result[SIZE][SIZE];
    int rows, cols, rows2, cols2, choice;
    int i, j, k;

    printf("Enter rows and columns of Matrix A: ");
    scanf("%d %d", &rows, &cols);

    printf("\nEnter elements of Matrix A (%d x %d):\n", rows, cols);
    for (i = 0; i < rows; i++) {
        for (j = 0; j < cols; j++) {
            scanf("%d", &a[i][j]);
        }
    }

    printf("Enter rows and columns of Matrix B: ");
    scanf("%d %d", &rows2, &cols2);

    printf("\nEnter elements of Matrix B (%d x %d):\n", rows2, cols2);
    for (i = 0; i < rows2; i++) {
        for (j = 0; j < cols2; j++) {
            scanf("%d", &b[i][j]);
        }
    }

    printf("\nChoose operation:\n");
    printf("1. Addition\n2. Subtraction\n3. Multiplication\n4. Transpose\n");
    scanf("%d", &choice);

    switch (choice) {
        case 1:
            if (rows != rows2 || cols != cols2) {
                printf("\nAddition requires same dimensions.\n");
            } else {
                for (i = 0; i < rows; i++) {
                    for (j = 0; j < cols; j++) {
                        result[i][j] = a[i][j] + b[i][j];
                    }
                }
                printf("\nResult of Addition:\n");
                for (i = 0; i < rows; i++) {
                    for (j = 0; j < cols; j++) {
                        printf("%d\t", result[i][j]);
                    }
                    printf("\n");
                }
            }
            break;

        case 2:
            if (rows != rows2 || cols != cols2) {
                printf("\nSubtraction requires same dimensions.\n");
            } else {
                for (i = 0; i < rows; i++) {
                    for (j = 0; j < cols; j++) {
                        result[i][j] = a[i][j] - b[i][j];
                    }
                }
                printf("\nResult of Subtraction:\n");
                for (i = 0; i < rows; i++) {
                    for (j = 0; j < cols; j++) {
                        printf("%d\t", result[i][j]);
                    }
                    printf("\n");
                }
            }
            break;

        case 3:
            if (cols != rows2) {
                printf("\nMultiplication requires cols of A = rows of B.\n");
            } else {
                for (i = 0; i < rows; i++) {
                    for (j = 0; j < cols2; j++) {
                        result[i][j] = 0;
                        for (k = 0; k < cols; k++) {
                            result[i][j] += a[i][k] * b[k][j];
                        }
                    }
                }
                printf("\nResult of Multiplication:\n");
                for (i = 0; i < rows; i++) {
                    for (j = 0; j < cols2; j++) {
                        printf("%d\t", result[i][j]);
                    }
                    printf("\n");
                }
            }
            break;

        case 4:
            printf("\nTranspose of Matrix A:\n");
            for (i = 0; i < cols; i++) {
                for (j = 0; j < rows; j++) {
                    printf("%d\t", a[j][i]);
                }
                printf("\n");
            }
            break;

        default:
            printf("Invalid choice!\n");
    }

    return 0;
}
